(this["webpackJsonpmovie-library"]=this["webpackJsonpmovie-library"]||[]).push([[0],{18:function(e,t,n){e.exports={root:"Header_root__1lbDB"}},19:function(e,t,n){e.exports={root:"Footer_root__1vHme"}},21:function(e){e.exports=JSON.parse('{"TMDB":{"Description":"The Movie Data Base API https://www.themoviedb.org/","key":"b0051197ce34bf52555943ba1b4f5d4d"}}')},22:function(e,t,n){e.exports={root:"SearchField_root__3vG0l"}},23:function(e,t,n){e.exports=n(47)},28:function(e,t,n){e.exports={hidden:"App_hidden__aJPTc",linkColorLink:"App_link-color-link__3JHiL",linkColorVisited:"App_link-color-visited__2TCKx",linkColorHover:"App_link-color-hover__3-gY5",linkColorActive:"App_link-color-active__1gQe1",fontSizeMicro:"App_font-size-micro__24z6y",fontSizeTiny:"App_font-size-tiny__35lVx",fontSizeXxxSmall:"App_font-size-xxx-small__1XI4L",fontSizeXxSmall:"App_font-size-xx-small__2RTZR",fontSizeXSmall:"App_font-size-x-small__2DZDQ",fontSizeSmall:"App_font-size-small__3BU_b",fontSizeNormal:"App_font-size-normal__3YasS",fontSizeMedium:"App_font-size-medium__3kH0v",fontSizeMediumLarge:"App_font-size-medium-large__2_t2F",fontSizeLarge:"App_font-size-large__3aHgx",fontSizeXLarge:"App_font-size-x-large__3J0R6",fontSizeXxLarge:"App_font-size-xx-large__kZTSX",fontSizeXxxLarge:"App_font-size-xxx-large__2pO6w",fontSizeHuge:"App_font-size-huge__1Vj15",fontSizeXHuge:"App_font-size-x-huge__2tgxX",fontSizeXxHuge:"App_font-size-xx-huge__2Vren",fontSizeXxxHuge:"App_font-size-xxx-huge__2ZIo8",fontSizeMassive:"App_font-size-massive__HgFDH",fontSizeGigantic:"App_font-size-gigantic__1WP28",fontSizeHumongous:"App_font-size-humongous__24Bz6"}},3:function(e,t,n){e.exports={root:"ListItem_root__22XXP",content:"ListItem_content__1y7-1",titleBlock:"ListItem_title-block__2_R9z",date:"ListItem_date__1Y1ml",image:"ListItem_image__2GwyS",noImage:"ListItem_no-image__3K9RG",icon:"ListItem_icon__3Waoa",description:"ListItem_description__1OZ97"}},47:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(16),l=n.n(r),c=n(2),s=n(17),_=n.n(s),m=(n(28),n(18)),u=function(){return i.a.createElement("header",{className:m.root},i.a.createElement("h1",null,"Movie Library"))},p=n(19),f=function(){return i.a.createElement("footer",{className:p.root},i.a.createElement("p",null,"This product uses the TMDb API but is not endorsed or certified by TMDb."))},g=n(5),d=n.n(g),h=n(20),v=n(4),x=n.n(v),z=n(21),S=x.a.create({baseURL:"https://api.themoviedb.org/3/"}),b=n(6),E=n(22),k=function(e){var t=e.fieldName,n=e.label,a=e.placeholder,r=e.setSearchText,l=Object(o.useState)([]),s=Object(c.a)(l,2),_=s[0],m=s[1];return i.a.createElement("div",{className:E.root},i.a.createElement("label",{htmlFor:t},n),i.a.createElement("input",{name:t,placeholder:a,type:"text",value:_,autoComplete:"off",onChange:function(e){var t=e.target.value;console.log("something"),m(t),r(t)}}))},A=n(3),w=function(e){var t=e.itemData,n=Object(o.useState)(!1),a=Object(c.a)(n,2),r=a[0],l=a[1],s=t.title,_=t.release_date,m=t.poster_path,u=t.overview;return i.a.createElement("li",{className:A.root},i.a.createElement("div",{className:A.content},i.a.createElement("div",{className:A.titleBlock},i.a.createElement("h4",null,s),i.a.createElement("span",{className:A.date},_)),i.a.createElement("div",{className:A.image},i.a.createElement("figure",null,!r&&i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185/"+m,width:"",height:"",alt:s,onError:function(){return l(!0)}})||i.a.createElement("p",{className:A.noImage},i.a.createElement("span",{className:A.icon}),"No image"))),i.a.createElement("div",{className:A.description},i.a.createElement("p",null,u.substring(0,150)," ",u.length>150&&"..."))))},y=x.a.CancelToken,L=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],l=Object(o.useState)(),s=Object(c.a)(l,2),_=s[0],m=s[1],u=z.TMDB.key,p=Object(o.useRef)(!0),f="trending/movie/week?api_key=",g="search/movie?api_key=",v=p.current?f+u:g+u+"&language=en-US&page=1&include_adult=true&",E=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getResults URL:",t,p.current),e.next=3,S.get(t,{cancelToken:new y((function(e){a=e}))}).then((function(e){return e.data.results})).catch((function(e){if(x.a.isCancel(e))return[];console.log("error",e.message)}));case 3:o=e.sent,r(o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!_||_.length<=0)return console.log("useEffect"),a&&a("Request canceled."),!_||p.current?void E(f+u):void r([]);p.current=!1,E(v+"query="+encodeURI(_))}),[_]),i.a.createElement("main",{className:b.root},i.a.createElement("h5",null,"Trending movies"),i.a.createElement(k,{fieldName:"search",label:"Find a movie",placeholder:"Find a movie...",setSearchText:m}),n&&n.length>0&&i.a.createElement("ul",{className:b.list},n.map((function(e){var t=e.id;return i.a.createElement(w,{itemData:e,key:t})})))||i.a.createElement("p",null,"nothing found..."))};var N=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){_.a.load({custom:{families:["opensasans","anton"]},fontactive:function(){setTimeout((function(){a(!0)}),1e3)}})}),[]),i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(u,null),i.a.createElement(L,null),i.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports={root:"Search_root__258Xl",list:"Search_list__29D6I"}}},[[23,1,2]]]);
//# sourceMappingURL=main.9c8d4c5e.chunk.js.map